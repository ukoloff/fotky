!function r(t,n,e){function o(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!s&&c)return c(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(r){var n=t[u][1][r];return o(n?n:r)},l,l.exports,r,t,n,e)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<e.length;u++)o(e[u]);return o}({1:[function(r,t){var n;t.exports=function(r){var t,e,o,i,u,s,c;for(c=r.url,o=r.callback,s=r.timeout,o||(o="callback"),s||(s=3e3);window[i="_"+n(15)];);window[i]=function(n){return t()&&"function"==typeof r.success?r.success(n):void 0},e=function(){return t()&&"function"==typeof r.error?r.error():void 0},u=document.createElement("script"),u.async=!0,u.onerror=e,u.src=""+c+(c.indexOf("?")>=0?"&":"?")+o+"="+i,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(u),setTimeout(e,s),t=function(){return u?(delete window[i],u.parentNode.removeChild(u),u=null,!0):void 0}},n=function(r){var t,n;for(null==r&&(r=1),n="";n.length<r;)t=Math.floor(62*Math.random()),n+=String.fromCharCode(t%26+"Aa0".charCodeAt(t/26));return n}},{}],2:[function(r){var t,n;t=r(1),n=new t("stanislav-ukolov",{success:function(){return console.log(this)}})},{1:5}],3:[function(r,t){var n,e,o;e=r(1),o=r(2),n=function(r,t){return this.def=t,this.id=t.id.split(":").reverse()[0],this.path=r.id},n.prototype={loadPhotos:function(r){return this.visible()?o({url:this.def.links.photos,success:function(t){return function(n){var o,i;return t.ymgs=function(){var r,t,i,u;for(i=(this.photos=n).entries,u=[],r=0,t=i.length;t>r;r++)o=i[r],u.push(new e(this,o));return u}.call(t),null!=(i=r.success)?i.call(t):void 0}}(this),error:function(t){return function(){var n;return null!=(n=r.error)?n.call(t):void 0}}(this)}):void 0},fullPath:function(){return""+this.path+"/"+this.id},visible:function(){return null!=this.def.img}},t.exports=n},{1:4,2:1}],4:[function(r,t){var n;n=function(r,t){return this.def=t,this.id=t.id.split(":").reverse()[0],this.path=r.fullPath()},n.prototype={fullPath:function(){return""+this.path+"/"+this.id}},t.exports=n},{}],5:[function(r,t){var n,e,o;n=r(1),o=r(2),e=function(r,t){var e,i;return this.name=r,o({url:"http://api-fotki.yandex.ru/api/users/"+escape(r)+"/?format=json",error:function(r){return function(){var n;return null!=(n=t.error)?n.call(r):void 0}}(this),success:function(r){return function(n){return r.service=n,o({url:n.collections["album-list"].href+"?format=json",error:function(){var n;return null!=(n=t.error)?n.call(r):void 0},success:function(n){var o;return r.albums=n,e(),r.yalbums=i(),null!=(o=t.success)?o.call(r):void 0}})}}(this)}),e=function(r){return function(){var t,n,e,o;for(o=r.albums.authors,n=0,e=o.length;e>n;n++)if(t=o[n],t.name===r.name)return r.id=t.uid}}(this),i=function(r){return function(){var t,e,o,i,u;for(i=r.albums.entries,u=[],e=0,o=i.length;o>e;e++)t=i[e],u.push(new n(r,t));return u}}(this)},t.exports=e},{1:3,2:1}]},{},[2]);